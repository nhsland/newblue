// ** Copyright (C) 2018, OpenEyes Foundation. This file is part of OpenEyes. 
// ** OpenEyes is free software; and is distributed, WITHOUT ANY WARRANTY under the terms of AGPL 3.0 licence.
//

// OE Element - Add - Select or Search
// Popup box showing the common options 
// and an input to allow search with autocomplete

.oe-add-select-search {	
	
	// All options lists <ul>:
	.add-options{
		height:$oe-add-insert-popup-height + 20;		// fix height (based on 0-9, shows all options without scroll!)  
		overflow-y: auto;
		margin:0 2px 0 0;
		max-width: 500px; 		// Meds can be really long
		
		$bg-default: shade( $oe-popup-bg, 10 );
		$bg-default-hover: shade( $oe-popup-bg, 30 );
		
		li {
			display:block;
			cursor: pointer;
			padding:3px 8px;		// do not change this!
			margin:0 0 2px 0;
			color:$oe-text;
			// border-radius:3px;
			background-color: $bg-default;
			min-width:30px;			// provide a minimal hit area for touch
			
			// data has a span wrapper to control the width
			// not possible through the li css
			// this assumes a text value:
			.restrict-width {
				display:inline-block;
				width:$oe-ass-restricted-width; 
				word-break: break-word;
				
				// width was set as below - but no idea why!
				// (so, kept in-case needs re-instating)			
				// min-width:125px;
				// max-width:130px;

				&.extended {
					width:$oe-ass-restricted-width-extended;
				}
			}
			
			&:hover, &:focus, &:active, &.selected {
				color:#fff;
				background: $bg-default-hover !important;  // must override any type styling
			}
			
			&.selected {
				color:#fff;
				background:$oe-btn-blue !important;
			}
			
			&.active {
				color:$oe-text-highlight !important;
			}
		}
		
		// color hint functionality
		$list-hint-w: 3px;
		$list-hint-w2: 6px;
		// required
		&.single,
		&.multi,
		&.number {
			&.required {
				li { background-image: linear-gradient(to right,$oe-alert-orange $list-hint-w, $bg-default $list-hint-w); }
			}
		}
		// multi
		&.multi {
			li { background-image: linear-gradient(to right, $oe-text-light $list-hint-w, $bg-default $list-hint-w); }
		}
		
		// linked
		// could flag this with a colour bar
		// &.linked {
			// li { background-image: linear-gradient(to right, $oe-btn-blue-hint $list-hint-w, $bg-default $list-hint-w); }
		// }
		
		&.category-filter{
			li {
				background-image:url( svg-path( 'ui/arrow-right-blue' ) );
				background-position:right 2px center;
				background-repeat: no-repeat;
				background-size:8px;
				padding-right:14px;
			}
		}
		
	}
}

