// OE Element - Add - Select or Search
// Popup box showing the common options 
// and an input to allow search with autocomplete

.oe-add-select-search {	
	position:fixed; 					// Fixed take it out of the Grid. 
	bottom:300px; 						// JS will override and position
	right:0; 
	z-index:$oe-z-tooltip; 				// make sure it floats over elements
	background:$oe-popup-bg;
	padding:10px 10px 50px 10px; 		// allow for bottom 'btn' bar 
	min-height:150px;
	@include font-size(12);			
	font-weight:500;
	
	// offset-x | offset-y | blur-radius | spread-radius | color
	box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.1);
	
	// popup widths
	// history has 5 inputs lists, pro
	width:350px; 						// need to fixed a width for single column auto-width lists
	min-width: 350px;					// default width (to fit in Analytics column)
	
	&.auto-width {
		width:auto;						// php adds this class IF 1> options
	}
	
	
	// Button Bar (bottom)
	// these are <div> not buttons to ensure greater UI control
	// <div>
	.close-icon-btn,
	.add-icon-btn {
		position: absolute;
		bottom:0;
		height:32px; // large button height
		display:flex;
		align-items:center;
		justify-content:center;
		cursor: pointer;
	}
	
	.close-icon-btn {
		right:0;
		width:40px;
		background-color:$oe-btn-blue-hint;
		&:hover, &:focus, &:active {
			background-color:$oe-btn-blue;
		}
	}
	
	// <div>
	// icon + text message
	.add-icon-btn {
		left:0;
		width: calc(100% - 40px);
		background-color:$oe-btn-green-hint;
		&:hover, &:focus, &:active {
			background-color:$oe-btn-green;
			color:rgba(255,255,255,1);
		}
		
		@include font-size(13);
		font-weight:300;
		color:rgba(255,255,255,0.8);
		
		&.required {
			background-color: $oe-alert-orange;
			cursor: not-allowed;
			color:rgba(255,255,255,1);	
		}
		
	}
	
	// input
	//.type-search-autocomplete {
	//	margin:8px 0 4px 0;
	//}
	
	// Select lists
	// are group in <td>
	table.select-options {	
		
		th {
			text-align: left;
			color:$oe-text-light;
			@include font-size(11);
			font-weight:$oe-font-light;
			padding:0 0 5px 0;
			
			&:last-child {
				text-align: left;
			}
		}
		
		td {
			vertical-align: top;
			padding:0 15px 0 0; // space the list groups 
			
			&:last-child {
				padding:0 0 0 0;
				text-align: left;
			}
		}		
	}

	// if the list has a filter input:
	.has-filter {
		input {
			margin-bottom:4px;
		}
		.add-options {
			max-height:133px;	// limit the displayed results - input 
		}
	}

	// All options lists <ul>:
	.add-options{
		max-height:160px;		// limit the displayed results.  
		overflow-y: auto;
		margin:0 2px 0 0;
		max-width: 500px; 		// Meds can be really long
		
		$bg-default: shade( $oe-popup-bg, 10 );
		$bg-default-hover: shade( $oe-popup-bg, 30 );
		
		li {
			display:block;
			cursor: pointer;
			padding:3px 8px 3px 8px;
			margin:0 0 2px 0;
			color:$oe-text;
			// border-radius:3px;
			background: $bg-default;
			
			// data has a span wrapper to control the width
			// not possible through the li css
			// this assumes a text value:
			.restrict-width {
				display:inline-block;
				min-width:120px;
				max-width:130px;
			}
			
			// this is for numerics (i.e. 1,2,3 and 0.35)
			// this is <span>
			.auto-width {
				// white-space:nowrap; // this cause really look text to break the popup box
				// max-width: 400px;
			}
			
			&:hover, &:focus, &:active, &.selected {
				color:#fff;
				background: $bg-default-hover !important;  // must override the linear-gradient below
			}
			
			&.selected {
				color:#fff;
				background:$oe-btn-blue !important;
			}
			
			&.active {
				color:$oe-text-highlight !important;
			}
		}
		
		// color hint functionality
		$list-hint-w: 3px;
		$list-hint-w2: 6px;
		&.single,
		&.number {
			&.required {
				li {
					background: linear-gradient(to right,$oe-alert-orange $list-hint-w, $bg-default $list-hint-w);
				}
			}
		}
		
		&.multi {
			li {
				background: linear-gradient(to right, $oe-btn-blue-hint $list-hint-w, $bg-default $list-hint-w);
			}
			
			&.required {
				li {
					background: linear-gradient(to right, $oe-btn-blue-hint $list-hint-w, $oe-alert-orange $list-hint-w2, $bg-default $list-hint-w2 );
				}
			}
		}
	}
}

