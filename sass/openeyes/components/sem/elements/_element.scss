// OE Element
// Elements can be
// Full width
// Full width (split)
// Tile (1 of 3 in a horizontal layout) - ONLY used in VIEW

.main-event {

	// element has 2 main states:
	// - 'full' (that can split to R L)
	// - 'tile' (used as 1 of 3 in tiled row)
	
	// <div> wrapper for the 3 tiled elements
	.element-tile-group {
		display:flex;
		justify-content:flex-start; 	// group items to the left
		align-items:stretch;			// fill vertical space
	}
	
	.element {
		position:relative;
		min-height:40px; // ensure element actions and header can always be seen	
		background: $oe-blue-dark2;
		padding:32px 5px 10px 10px; // provide top space for header/actions
		margin:0 0 3px 0;
		color:$oe-text;
		font-weight: $oe-font-medium;
		
		// group of 3 'tile' elements in rank
		&.tile {
			width: 33.33333%;
			margin:0 3px 3px 0;
			&:last-child {
				margin-right:0;
			}
			
			// tile elements have a restriction on the amount
			// of data they can show to stop huge med lists
			// breaking the UI...			
			.tile-data-overflow {
				position:relative;
				max-height:180px;
				overflow-y: auto;
				padding:0 5px 10px 0;
			}
			
			// but make sure hidden data is flagged to users
			.tile-more-data-flag {
				position:absolute; 
				z-index:1;
				bottom:0;
				left:0;
				display:flex;
				align-items: center;
				justify-content: center;
				width:100%;
				height:30px;
				background:rgba($oe-blue,0.8);
			}
		}
		
		// line to divide R & L
		&.eye-divider {
			background-image: url( svg-path-theme('ui/element-divider') );
			background-position: 50.4% 0;
			background-repeat: repeat-y;
			background-size:19px;

			@include media($oe-extended-browser-size){
				background-position-x: 54.5%; // needs offseting because headers have dropped left
			}
		}
		
		// Element that requires data to cover both Eyes, 
		// then splits... requires a slightly different DOM
		// because of the Flex layout in element-eyes
		.element-both-eyes {
			background-color: $oe-blue-dark2;
			margin:10px 0;
			padding:10px;
			border-radius:13px; // create a bracket effect
			border-bottom: 2px solid $oe-line;
		}
		
		// provide desktop user with element header highlight
		// highlight element focus
		// stop the re-sizing effect of adding a border:
		
		border:1px solid rgba(#fff,0);
		transition: border-color 0.2s ease-in; // animate
		
		&:hover, &:focus {
			border-color:$oe-btn-blue;
			
			.element-header {
				.element-title, .subelement-title {
					transition: color 0.5s ease-out;
					color:$oe-text-highlight;
				}
			}

		}
		
		// 'none', only used for 'none' i.e. 'no data available'
		.none {
			opacity:0.6;
			font-style: italic;
			font-weight: $oe-font-light;
		}
		
		// R & L data split
		.element-eyes {
			display:flex;
			align-items:flex-start;			
			justify-content:space-between;
			
			// wrapper for Eye Lat icons
			.eye-icon-header {
				text-align: center;
				margin:0 0 8px 0;
			}

			.right-eye {
				width:50%; 
				padding-left: 10px; 	// indent data
				padding-right: 30px;	// allow for action icons ( +5px to make same width as left-eye )
			}
			.left-eye {
				width:49.5%; 
				padding-left: 10px; 	// indent data
				padding-right: 25px; 	// allow for action icons
			}
			
			// need to be able to deactivate a side
			// the system will do this if a user shouldn't
			// be using this data
			
			.right-eye.deactivate, 
			.left-eye.deactivate {
				position:relative; 
				user-select: none;
				
				// show a deactive overlay pattern
				&::after {
				  content: "";
				  z-index:1;
				  position: absolute;
				  top:0;
				  left:0;
				  width:100%;
				  height:100%;
				  // add right arrow to the backround:
				  background-position:top left;
				  background-repeat: repeat;
				  background-size:20px;
				  background-image:url( "../svg/in-css/patterns/pattern1.svg" );
				  overflow:auto; // IE: stop under text selection fix
				}
			}
		
		}
		
		
		// Rows: simply provides padding between 'rows' of data
		// used in existing DOM so keeping for v3
		// data-row and field-row are inter-changable in v3
		.data-row, 
		.field-row  {
			padding-top: 8px;
			&:first-child {
				padding-top: 0;
			}
		}
				
	}
}

