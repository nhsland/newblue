// ** Copyright (C) 2018, OpenEyes Foundation. This file is part of OpenEyes. 
// ** OpenEyes is free software; and is distributed, WITHOUT ANY WARRANTY under the terms of AGPL 3.0 licence.
//

// Home
// Messages

.home-messages {
	
	// wrapper for <table> .messages
	.messages-all {
		padding:10px 10px 20px 0;
	}
	
	// <table>
	// uses and extends 'standard' table
	.messages {
		width: 100%; // calc(100% - 300px); was flex but changed sub-grid
		
		// set last <td> to the right	
		th, td {
			// default (message read)
			color:$oe-text-light;
			padding:10px 6px;  			// increase padding
			@include font-size(12);		// reduce font-size
			line-height:1.4;			// improve legabilty
			
			&:last-child {
				text-align: right;
				padding-right:0;
			}
		}	
		
		tbody {
			tr {
				// unread messages
				&.unread {
					td {
						color:$oe-text;
						@include font-size(14);
					}
				}
			}
			
			// <td>
			td {
				// create a vertical divider between 
				// patient data and message data
				&.patient {
					border-right:2px solid $oe-line;
					padding-right:12px
				}
				
				.urgent-message {
					fill:rgb(202,121,50); // must work across themes
					margin:0 3px 0 0;
				}
				.reply-message {
					fill:$oe-text-active;
				}
			}
		}
			

		// handle the actual messages
		// within the <td>
		// DOM: <div class="message">Message</div> 
		// strucutre to make use of truncated text
		.message {
			// need to push out the containing <td>
			// this width seems to work well
			width:25vw;  
			@include media($oe-extended-browser-size){
				width:22vw;
			}
			
			height:1.2rem;
			overflow: hidden;
			color: inherit;
			
			// truncate text
			white-space: nowrap;
			text-overflow: ellipsis;
			
			// read full message (if truncated)		
			&.expand {
				height: auto;
				text-overflow: none;
				white-space: normal;
				color: $oe-text;
			}
			
		}
	}
}

